{% extends "base.html" %} {% block content %}
<h2>{{ node.title or node.spec_code }}</h2>
{% if latest %}
<p><strong>Spec:</strong> {{ form.spec_id }}</p>
<p>
  <strong>Ø¢Ø®Ø± Ù†Ø³Ø®Ø©:</strong> v{{ latest.version }} Â· {{ latest.created_at }} Â·
  {{ latest.created_by or "system" }}
</p>

<div class="spec-view">
  <div class="field-group">
    <label>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø¯</label>
    <div class="value">{{ form.contract_type }}</div>
  </div>
  <div class="field-group">
    <label>Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù†Ø¯</label>
    <div class="value">{{ form.clause_type }}</div>
  </div>
  <div class="field-group">
    <label>Ù…Ø­Ù„ Ø§Ù„Ù†Ø²Ø§Ø¹</label>
    <div class="value">{{ form.jurisdiction }}</div>
  </div>
  <div class="field-group">
    <label>Ø§Ù„Ù‡Ø¯Ù</label>
    <div class="value multiline">{{ form.purpose }}</div>
  </div>

  <hr />
  <h2>Ù…Ø¯Ù‰ Ø§Ù„Ø¨Ù†Ø¯</h2>
  <div>
    <div class="field-group">
      <label>ÙŠØ·Ø¨Ù‚ Ø¹Ù†Ø¯Ù…Ø§:</label>
      <ul>
        {% for line in form.scope_applies_when.splitlines() if line.strip() %}
        <li>{{ line }}</li>
        {% endfor %}
      </ul>
    </div>

    <div class="field-group">
      <label>Ù„Ø§ ÙŠØ·Ø¨Ù‚ Ø¹Ù†Ø¯Ù…Ø§</label>
      <ul>
        {% for line in form.scope_does_not_apply_when.splitlines() if
        line.strip() %}
        <li>{{ line }}</li>
        {% endfor %}
      </ul>
    </div>

    <hr />
  </div>

  <div class="field-group">
    <label>ÙŠØ³Ù…Ø­ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ù„ØªØ§Ù„ÙŠ</label>
    <ul>
      {% for line in form.allowed_model_may.splitlines() if line.strip() %}
      <li>{{ line }}</li>
      {% endfor %}
    </ul>
  </div>

  <div class="field-group">
    <label>Ù„Ø§ ÙŠØ³Ù…Ø­ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ù„ØªØ§Ù„ÙŠ</label>
    <ul>
      {% for line in form.disallowed_model_must_not.splitlines() if line.strip()
      %}
      <li>{{ line }}</li>
      {% endfor %}
    </ul>
  </div>

  <hr />

  <div class="field-group">
    <label>required_reasoning.before_answer_think_about</label>
    <ul>
      {% for line in form.reasoning_before.splitlines() if line.strip() %}
      <li>{{ line }}</li>
      {% endfor %}
    </ul>
  </div>

  <div class="field-group">
    <label>required_reasoning.potential_risk_signals</label>
    <ul>
      {% for line in form.reasoning_risks.splitlines() if line.strip() %}
      <li>{{ line }}</li>
      {% endfor %}
    </ul>
  </div>

  <hr />

  <div class="field-group">
    <label>edge_cases.model_must_know</label>
    <ul>
      {% for line in form.edge_cases_must_know.splitlines() if line.strip() %}
      <li>{{ line }}</li>
      {% endfor %}
    </ul>
  </div>

  <hr />

  <div class="field-group">
    <label>safe_completion_rules (Ø¹Ø±Ø¶ ÙÙ‚Ø·)</label>
    <textarea readonly rows="4">{{ form.safe_completion_rules }}</textarea>
  </div>
</div>
{% else %}
<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰ Ø¨Ø¹Ø¯.</p>
{% endif %}

<p>
  <a href="/node/{{ node.id }}/edit">âœï¸ ØªØ¹Ø¯ÙŠÙ„ (ÙŠØªØ·Ù„Ø¨ Basic Auth)</a> |
  <a href="/node/{{ node.id }}/history">ğŸ•’ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø³Ø®</a>
</p>
{% endblock %}
